<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>EU SEI SUA SENHA</title>
	<style type="text/css">
		body {
			font-family: Arial;
			text-align: center;
		}

		.senha {
			padding: 10px;
			border-radius:5px;
			border: 1px solid grey;
			width: 300px;
		}

		.bt {
			padding: 10px;
			background: #aaddff;
			border: none;
			border-radius:5px;
			width: 100px;
		}

		.tela-carregamento {
			display: none;
		}

		footer {
			margin-top: 20px;
		}
	</style>
</head>
<body>
	<main class="principal">
		<h1>Digite uma senha e salve</h1>
		<form>
			<input type="password" class="senha" placeholder="Digite sua senha aqui" minlength="3" maxlength="10"><br/><br/>
			<input type="submit" value="Salvar" class="bt">
		</form>
	</main>

	<div class="tela-carregamento">
		<h1>Enviando senha pra cabeça de Edson</h1>
	</div>

	<footer>
		Desenvolvido por <a href="https://www.linkedin.com/in/edson-domingos/">Edson Domingos</a>
	</footer>

	<script type="text/javascript">
		let form = document.querySelector('form')
		let senha = document.querySelector('[type=password]')
		let principal = document.querySelector('.principal')
		let telaCarregamento = document.querySelector('.tela-carregamento')
		let bt = document.querySelector('[type=submit]')
		let regex = new RegExp('^[A-Za-z]+$')  //Não to usando por enquanto

		function carregando(){
			telaCarregamento.style.display = 'block'
			principal.style.display = 'none'
			document.body.onload = setTimeout(redireciona, 2000)			
		}

		function redireciona(){
			let url = window.location.href
			let urlAtual = url.slice(url[0],url.indexOf('html')) + 'html'
			window.location.href = 	urlAtual +'?a=' + dificultaVerSenha()
		}

		function dificultaVerSenha(){
			let simbolos = ').+-*!@#$('
			let novaVisualizaca = []
			for (let i=0;i < senha.value.length; i++){
				novaVisualizaca.push(senha.value[i])
				novaVisualizaca.push(simbolos[i])
			}
			// let novaVisualizaca = 
			return novaVisualizaca.toString().replace(/,/g,'')
			
		}

		form.addEventListener('submit', e => {
			e.preventDefault()
			carregando()
			// let urlAtual = window.location.href
			
		})

		
	</script>
</body>
</html>